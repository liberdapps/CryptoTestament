(function(e){function t(t){for(var a,r,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("1da1"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("7a23")),s=Object(i["e"])("nav",{class:"navbar navbar-expand-lg navbar-light fixed-top shadow-sm",id:"mainNav"},[Object(i["e"])("div",{class:"container px-5"},[Object(i["e"])("a",{class:"navbar-brand fw-bold",href:"/"},"CryptoTestament")])],-1),r=Object(i["e"])("header",{class:"masthead",style:{"padding-top":"2rem"}},null,-1),c={class:"text-center bg-gradient-primary-to-secondary"},o={class:"container px-5"},l={class:"row gx-5 justify-content-center"},u={class:"col-sm-12"},d={class:"h2 fs-3 text-white mb-0"},m=Object(i["e"])("p",null,"With crypto, control your money.",-1),p=Object(i["e"])("p",{class:"mb-0"},"With CryptoTestament, you decide who gets it after you're gone.",-1),b={class:"main",style:{"padding-top":"1.5rem","padding-bottom":"1rem"}},f={key:0,class:"container-dapp container-sm"},y={class:"alert alert-danger mb-1",role:"alert",style:{"word-break":"break-word"}},h=Object(i["e"])("a",{href:"https://developers.rsk.co/tutorials/ethereum-devs/remix-and-metamask-with-rsk-testnet#connect-metamask-to-rsk-testnet",target:"_blank"},"RSK blockchain",-1),O=Object(i["f"])(" and try again. "),j={key:1,class:"container-dapp container-sm text-muted"},g={key:0,class:"alert alert-info mb-5 text-center",role:"alert"},v=Object(i["f"])("You don't have a testament yet. Please use the form below to create one."),w=Object(i["e"])("br",null,null,-1),T=[v,w],x={key:1},k={class:"card shadow rounded mb-4"},C={class:"card-body"},E=Object(i["e"])("h5",{class:"card-title text-primary text-center mb-3"},"Testament status",-1),A={class:"text-center"},B={key:0},M={key:1,class:"alert alert-danger text-center mt-3"},S=Object(i["e"])("strong",null,"Your testament will soon be unlocked for execution!",-1),L=Object(i["e"])("br",null,null,-1),N=Object(i["f"])(" You must make a deposit, a withdraw or edit the testament details to keep it locked. "),I=[S,L,N],P={key:1},V=Object(i["e"])("strong",{class:"text-warning"},"UNLOCKED FOR EXECUTION",-1),U=Object(i["e"])("div",{class:"alert alert-warning text-center mt-3"}," Your testament will be executed soon. ",-1),F=[V,U],D={key:2},R=Object(i["e"])("strong",{class:"text-danger"},"CANCELLED",-1),Y=Object(i["e"])("div",{class:"alert alert-info text-center mt-3"}," You can still withdraw your funds or reactivate the testament. ",-1),_=[R,Y],K={key:3},W=Object(i["e"])("strong",{class:"text-success"},"EXECUTED",-1),J=Object(i["e"])("div",{class:"alert alert-success text-center mt-3"}," Funds were transferred to the beneficiary. ",-1),X=[W,J],Z={class:"text-center mt-3 mb-1"},$=["disabled"],q=["disabled"],z={key:0,class:"card shadow rounded mb-4"},G={class:"card-body"},H=Object(i["e"])("h5",{class:"card-title text-primary text-center mb-3"},"Testament funds",-1),Q={key:0,class:"text-center mb-3"},ee=Object(i["e"])("strong",null,"Deposit address: ",-1),te=Object(i["e"])("br",null,null,-1),ne={key:1,class:"alert alert-warning text-center"},ae={class:"text-center mb-3"},ie=Object(i["e"])("strong",null,"Funds available for withdraw: ",-1),se=Object(i["e"])("br",null,null,-1),re={class:"text-center mb-1"},ce={class:"d-flex align-items justify-content-center"},oe=["disabled"],le=["disabled"],ue=["disabled"],de={key:1,class:"card shadow rounded mb-4"},me={class:"card-body"},pe=Object(i["e"])("h5",{class:"card-title text-primary text-center mb-3"},"Testament funds",-1),be={class:"alert alert-warning text-center mb-2"},fe={class:"card shadow rounded mb-2"},ye={class:"card-body"},he=Object(i["e"])("h5",{class:"card-title text-primary text-center mb-3"},"Testament details",-1),Oe={key:0,class:"alert alert-warning text-center mb-3"},je={class:"mb-3"},ge=Object(i["e"])("label",{for:"txtName",autofocus:"",class:"form-label fw-bold"},"Your name:",-1),ve=["disabled"],we=Object(i["e"])("div",{class:"form-text text-italic"},"When your testament is about to be executed, we'll warn you using this name.",-1),Te={class:"mb-3"},xe=Object(i["e"])("label",{for:"txtContact",class:"form-label fw-bold"},"Your email:",-1),ke=["disabled"],Ce=Object(i["e"])("div",{class:"form-text"},"When your testament is about to be executed, we'll warn you using this email.",-1),Ee={class:"mb-3"},Ae=Object(i["e"])("label",{for:"txtName",autofocus:"",class:"form-label fw-bold"},"Beneficiary name:",-1),Be=["disabled"],Me=Object(i["e"])("div",{class:"form-text"},"When the funds in the testament are transferred, we'll notify the beneficiary using this name.",-1),Se={class:"mb-3"},Le=Object(i["e"])("label",{for:"txtContact",class:"form-label fw-bold"},"Beneficiary email:",-1),Ne=["disabled"],Ie=Object(i["e"])("div",{class:"form-text"},"When the funds in the testament are transferred, we'll notify the beneficiary using this email.",-1),Pe={class:"mb-3"},Ve=Object(i["e"])("label",{for:"txtContact",class:"form-label fw-bold"},"Beneficiary wallet address:",-1),Ue=["disabled"],Fe=Object(i["e"])("div",{class:"form-text"},"The wallet address of the beneficiary that should receive the funds locked in the testament.",-1),De={class:"mb-3"},Re={for:"txtContact",class:"form-label mb-0 fw-bold"},Ye=["disabled"],_e=Object(i["e"])("div",{class:"form-text mt-0"},"For how many days should the testament stay locked after you send a proof of life (make a deposit, a withdraw or change the testament details)? Example: if you choose 30 days, your testament will be unlocked if more than 30 days pass since your last transaction.",-1),Ke={class:"text-center mb-1"},We=["disabled"],Je=["disabled"],Xe=["disabled"],Ze=Object(i["e"])("footer",{class:"bg-black text-center py-5"},[Object(i["e"])("div",{class:"container px-5"},[Object(i["e"])("div",{class:"text-white-50 small"},[Object(i["e"])("div",{class:"mb-0"},"CryptoTestament 2022")])])],-1);function $e(e,t,n,a,v,w){return Object(i["h"])(),Object(i["d"])(i["a"],null,[s,r,Object(i["e"])("aside",c,[Object(i["e"])("div",o,[Object(i["e"])("div",l,[Object(i["e"])("div",u,[Object(i["e"])("div",d,[m,p,Object(i["f"])(" "+Object(i["i"])(e.walletAddress),1)])])])])]),Object(i["e"])("div",b,[null!==e.loadingError?(Object(i["h"])(),Object(i["d"])("div",f,[Object(i["e"])("div",y,[Object(i["f"])(" Failure loading dApp: "+Object(i["i"])(e.loadingError)+". If you're using a web browser, please make sure that your MetaMask wallet is connected to the ",1),h,O])])):Object(i["c"])("",!0),null===e.loadingError?(Object(i["h"])(),Object(i["d"])("div",j,[null===e.testament?(Object(i["h"])(),Object(i["d"])("div",g,T)):Object(i["c"])("",!0),null!==e.testament?(Object(i["h"])(),Object(i["d"])("div",x,[Object(i["e"])("div",k,[Object(i["e"])("div",C,[E,Object(i["e"])("div",A,[w.testamentLocked?(Object(i["h"])(),Object(i["d"])("div",B,[w.testamentLocked?(Object(i["h"])(),Object(i["d"])("strong",{key:0,class:Object(i["g"])({"text-danger":w.testamentNotifiable})},"Locked until "+Object(i["i"])(w.formattedUnlockTime),3)):Object(i["c"])("",!0),w.testamentNotifiable?(Object(i["h"])(),Object(i["d"])("div",M,I)):Object(i["c"])("",!0)])):Object(i["c"])("",!0),w.testamentUnlocked?(Object(i["h"])(),Object(i["d"])("div",P,F)):Object(i["c"])("",!0),w.testamentCancelled?(Object(i["h"])(),Object(i["d"])("div",D,_)):Object(i["c"])("",!0),w.testamentExecuted?(Object(i["h"])(),Object(i["d"])("div",K,X)):Object(i["c"])("",!0)]),Object(i["e"])("div",Z,[w.testamentLocked?(Object(i["h"])(),Object(i["d"])("button",{key:0,type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return e.cancelTestament&&e.cancelTestament.apply(e,arguments)}),disabled:e.processing},Object(i["i"])(e.processing?"Please, wait...":"Cancel testament"),9,$)):Object(i["c"])("",!0),w.testamentCancelled?(Object(i["h"])(),Object(i["d"])("button",{key:1,type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=function(){return e.reactivateTestament&&e.reactivateTestament.apply(e,arguments)}),disabled:e.processing},Object(i["i"])(e.processing?"Please, wait...":"Reactivate testament"),9,q)):Object(i["c"])("",!0)])])]),w.testamentLocked||w.testamentCancelled?(Object(i["h"])(),Object(i["d"])("div",z,[Object(i["e"])("div",G,[H,w.testamentLocked?(Object(i["h"])(),Object(i["d"])("div",Q,[ee,te,Object(i["e"])("em",null,Object(i["i"])(e.testament.testamentAddress),1)])):(Object(i["h"])(),Object(i["d"])("div",ne," You can't deposit funds because this testament has been "+Object(i["i"])(w.testamentStatusString)+". ",1)),Object(i["e"])("div",ae,[ie,se,Object(i["e"])("em",null,Object(i["i"])(w.formattedBalance),1)]),Object(i["e"])("div",re,[Object(i["e"])("div",ce,[Object(i["k"])(Object(i["e"])("input",{class:"form-control text-center",style:{width:"50%",display:"inline-block"},"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.inputFundsAmount=t}),disabled:e.processing},null,8,oe),[[i["j"],e.inputFundsAmount]]),Object(i["e"])("input",{type:"button",value:"MAX",class:"btn btn-light mx-2",onClick:t[3]||(t[3]=function(){return e.setMaxFundsAmount&&e.setMaxFundsAmount.apply(e,arguments)}),disabled:e.processing},null,8,le)]),Object(i["e"])("button",{type:"button",class:"btn btn-success mt-3",onClick:t[4]||(t[4]=function(){return e.withdrawFunds&&e.withdrawFunds.apply(e,arguments)}),disabled:!w.validFundsAmount||e.processing},Object(i["i"])(e.processing?"Please, wait...":"Withdraw funds"),9,ue)])])])):(Object(i["h"])(),Object(i["d"])("div",de,[Object(i["e"])("div",me,[pe,Object(i["e"])("div",be," You can't deposit or withdraw funds because this testament has been "+Object(i["i"])(w.testamentStatusString)+". ",1)])]))])):Object(i["c"])("",!0),Object(i["e"])("div",fe,[Object(i["e"])("div",ye,[he,null===e.testament||w.testamentLocked?Object(i["c"])("",!0):(Object(i["h"])(),Object(i["d"])("div",Oe," You can't edit the details because this testament has been "+Object(i["i"])(w.testamentStatusString)+". ",1)),Object(i["e"])("div",je,[ge,Object(i["k"])(Object(i["e"])("input",{type:"text",class:Object(i["g"])(["form-control",{"bg-danger bg-opacity-50":e.formChanged&&!w.nameValid}]),ref:"txtName",disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.inputName=t}),onInput:t[6]||(t[6]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,42,ve),[[i["j"],e.inputName]]),we]),Object(i["e"])("div",Te,[xe,Object(i["k"])(Object(i["e"])("input",{type:"text",class:Object(i["g"])(["form-control",{"bg-danger bg-opacity-50":e.formChanged&&!w.emailValid}]),disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.inputEmail=t}),onInput:t[8]||(t[8]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,42,ke),[[i["j"],e.inputEmail]]),Ce]),Object(i["e"])("div",Ee,[Ae,Object(i["k"])(Object(i["e"])("input",{type:"text",class:Object(i["g"])(["form-control",{"bg-danger bg-opacity-50":e.formChanged&&!w.beneficiaryNameValid}]),disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.inputBeneficiaryName=t}),onInput:t[10]||(t[10]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,42,Be),[[i["j"],e.inputBeneficiaryName]]),Me]),Object(i["e"])("div",Se,[Le,Object(i["k"])(Object(i["e"])("input",{type:"text",class:Object(i["g"])(["form-control",{"bg-danger bg-opacity-50":e.formChanged&&!w.beneficiaryEmailValid}]),disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.inputBeneficiaryEmail=t}),onInput:t[12]||(t[12]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,42,Ne),[[i["j"],e.inputBeneficiaryEmail]]),Ie]),Object(i["e"])("div",Pe,[Ve,Object(i["k"])(Object(i["e"])("input",{type:"text",class:Object(i["g"])(["form-control",{"bg-danger bg-opacity-50":e.formChanged&&!w.beneficiaryAddressValid}]),disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.inputBeneficiaryAddress=t}),onInput:t[14]||(t[14]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,42,Ue),[[i["j"],e.inputBeneficiaryAddress]]),Fe]),Object(i["e"])("div",De,[Object(i["e"])("label",Re,"Proof of life threshold: "+Object(i["i"])(e.inputProofOfLife+" days"),1),Object(i["k"])(Object(i["e"])("input",{type:"range",class:"form-range",min:"30",max:"365",disabled:!e.editMode&&null!==e.testament||e.processing,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.inputProofOfLife=t}),onInput:t[16]||(t[16]=function(){return e.formInput&&e.formInput.apply(e,arguments)})},null,40,Ye),[[i["j"],e.inputProofOfLife]]),_e]),Object(i["e"])("div",Ke,[!e.editMode&&null!==e.testament&&w.testamentLocked?(Object(i["h"])(),Object(i["d"])("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[17]||(t[17]=function(){return e.editTestament&&e.editTestament.apply(e,arguments)}),disabled:e.processing},"Edit details",8,We)):Object(i["c"])("",!0),e.editMode&&null!==e.testament&&w.testamentLocked?(Object(i["h"])(),Object(i["d"])("button",{key:1,type:"button",class:"btn btn-danger",onClick:t[18]||(t[18]=function(){return e.cancelTestamentChanges&&e.cancelTestamentChanges.apply(e,arguments)}),disabled:e.processing},"Cancel",8,Je)):Object(i["c"])("",!0),e.editMode||null===e.testament?(Object(i["h"])(),Object(i["d"])("button",{key:2,type:"button",class:"btn btn-success",onClick:t[19]||(t[19]=function(){return e.setupTestament&&e.setupTestament.apply(e,arguments)}),disabled:e.processing||!w.formValid},Object(i["i"])(e.processing?"Please, wait...":"Save"),9,Xe)):Object(i["c"])("",!0)])])])])):Object(i["c"])("",!0)]),Ze],64)}n("a9e3"),n("498a"),n("d3b7"),n("25f0"),n("ac1f"),n("5319"),n("00b4"),n("d9e2"),n("4d63"),n("c607"),n("2c3e"),n("1276"),n("466d"),n("99af"),n("b0c0");var qe=n("5ba3"),ze=n("3452"),Ge=n.n(ze),He=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"cancelTestament",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"testatorAddress",type:"address"}],name:"executeTestamentOf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reactivateTestament",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"serviceFeeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"serviceOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_serviceFeeRate",type:"uint256"}],name:"setServiceFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"beneficiaryAddress",type:"address"},{internalType:"uint256",name:"proofOfLifeThreshold",type:"uint256"},{internalType:"string",name:"encryptedKey",type:"string"},{internalType:"string",name:"encryptedInfo",type:"string"}],name:"setupTestament",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"testatorAddress",type:"address"}],name:"testamentDetailsOf",outputs:[{components:[{internalType:"uint256",name:"creationTimestamp",type:"uint256"},{internalType:"address",name:"testamentAddress",type:"address"},{internalType:"address",name:"testatorAddress",type:"address"},{internalType:"address",name:"beneficiaryAddress",type:"address"},{internalType:"uint256",name:"testamentBalance",type:"uint256"},{internalType:"uint256",name:"proofOfLifeThreshold",type:"uint256"},{internalType:"uint256",name:"lastProofOfLifeTimestamp",type:"uint256"},{internalType:"string",name:"encryptedKey",type:"string"},{internalType:"string",name:"encryptedInfo",type:"string"},{internalType:"uint256",name:"executionTimestamp",type:"uint256"},{internalType:"uint256",name:"executionBalance",type:"uint256"},{internalType:"enum TestamentStatus",name:"status",type:"uint8"},{internalType:"bool",name:"exists",type:"bool"}],internalType:"struct CryptoTestamentService.Testament",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"testaments",outputs:[{components:[{internalType:"uint256",name:"creationTimestamp",type:"uint256"},{internalType:"address",name:"testamentAddress",type:"address"},{internalType:"address",name:"testatorAddress",type:"address"},{internalType:"address",name:"beneficiaryAddress",type:"address"},{internalType:"uint256",name:"testamentBalance",type:"uint256"},{internalType:"uint256",name:"proofOfLifeThreshold",type:"uint256"},{internalType:"uint256",name:"lastProofOfLifeTimestamp",type:"uint256"},{internalType:"string",name:"encryptedKey",type:"string"},{internalType:"string",name:"encryptedInfo",type:"string"},{internalType:"uint256",name:"executionTimestamp",type:"uint256"},{internalType:"uint256",name:"executionBalance",type:"uint256"},{internalType:"enum TestamentStatus",name:"status",type:"uint8"},{internalType:"bool",name:"exists",type:"bool"}],internalType:"struct CryptoTestamentService.Testament[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawServiceFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTestamentFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Qe="0x9F386392833Fa09B9064cc49F0aCBB20d4D1937b",et=604800;function tt(e){return"string"===typeof e||e instanceof String}function nt(e){return void 0===e||null===e||0===e.trim().length}function at(e){return/\S+@\S+\.\S+/.test(e)}function it(e){return qe["Utils"].isAddress(e)}function st(e,t){if(!tt(e))throw new Error("Pass strings to prevent floating point precision issues.");var n="^(0|[1-9]\\d*)(\\.\\d{0,"+t+"})?$";if(!1===new RegExp(n).test(e))throw new Error("INVALID_NUMBER");var a=qe["Utils"].BN,i=new a(10),s=i.pow(new a(t)),r="-"===e.substring(0,1);if(r&&(e=e.substring(1)),"."===e)throw new Error("Invalid value ".concat(e," cannot be converted to")+" base unit with ".concat(t," decimals."));var c=e.split(".");if(c.length>2)throw new Error("Too many decimal points");var o=c[0],l=c[1];if(o||(o="0"),l||(l="0"),l.length>t)throw new Error("Too many decimal places");while(l.length<t)l+="0";o=new a(o),l=new a(l);var u=o.mul(s).add(l);return r&&(u=u.neg()),new a(u.toString(10),10)}function rt(e){return new qe["Utils"].BN(e)}function ct(e,t){var n=new qe["Utils"].BN(10).pow(new qe["Utils"].BN(t)),a=e.mod(n).toString(10);while(a.length<t)a="0".concat(a);a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=e.div(n).toString(10);e="".concat(i,".").concat(a);var s=t-a.length;while(s>0)s--,e="".concat(e,"0");return e}function ot(e,t,n){var a=JSON.parse(Ge.a.AES.decrypt(t.encryptedInfo,n).toString(Ge.a.enc.Utf8));e.inputName=a.name,e.inputEmail=a.email,e.inputBeneficiaryName=a.beneficiaryName,e.inputBeneficiaryEmail=a.beneficiaryEmail,e.inputBeneficiaryAddress=t.beneficiaryAddress,e.inputProofOfLife=Number(t.proofOfLifeThreshold)/86400,e.status=t.status,e.testament=t}var lt={instance:{loadingError:null,walletAddress:null,editMode:!1,processing:!1,testament:null,status:null,formChanged:!1,inputFundsAmount:"",inputName:"",inputEmail:"",inputBeneficiaryName:"",inputBeneficiaryEmail:"",inputBeneficiaryAddress:"",inputProofOfLife:30}},ut={name:"App",data:function(){return lt.instance},computed:{nameValid:function(){return!nt(this.inputName)},emailValid:function(){return!nt(this.inputEmail)&&at(this.inputEmail)},beneficiaryNameValid:function(){return!nt(this.inputBeneficiaryName)},beneficiaryEmailValid:function(){return!nt(this.inputBeneficiaryEmail)&&at(this.inputBeneficiaryEmail)},beneficiaryAddressValid:function(){return!nt(this.inputBeneficiaryAddress)&&it(this.inputBeneficiaryAddress)},formValid:function(){return this.nameValid&&this.emailValid&&this.beneficiaryNameValid&&this.beneficiaryEmailValid&&this.beneficiaryAddressValid&&Number(this.inputProofOfLife)>=1},validFundsAmount:function(){try{var e=st(this.inputFundsAmount.trim(),18),t=rt(this.testament.testamentBalance);return"0"!==e.toString()&&e.lte(t)}catch(n){return!1}},formattedUnlockTime:function(){if(this.testament){var e=Number(this.testament.lastProofOfLifeTimestamp)+Number(this.testament.proofOfLifeThreshold),t=new Date(1e3*e);return t.toISOString().replace("T"," ").replace(".000Z","")+" UTC"}return""},formattedBalance:function(){var e="0";return this.testament&&(e=String(this.testament.testamentBalance)),ct(rt(e),18)+" rBTC"},testamentStatusString:function(){return this.testamentLocked?"locked":this.testamentUnlocked?"unlocked for execution":this.testamentCancelled?"cancelled":this.testamentExecuted?"executed":""},testamentLocked:function(){if(this.testament){var e=Math.floor((new Date).getTime()/1e3),t=e-this.testament.lastProofOfLifeTimestamp;return"0"===this.testament.status&&t<=this.testament.proofOfLifeThreshold}return!1},testamentNotifiable:function(){if(this.testament){var e=Math.floor((new Date).getTime()/1e3),t=e-this.testament.lastProofOfLifeTimestamp;return"0"===this.testament.status&&t+et>=this.testament.proofOfLifeThreshold}return!1},testamentUnlocked:function(){if(this.testament){var e=Math.floor((new Date).getTime()/1e3),t=e-this.testament.lastProofOfLifeTimestamp;return"0"===this.testament.status&&t>this.testament.proofOfLifeThreshold}return!1},testamentCancelled:function(){return this.testament&&"1"===this.testament.status},testamentExecuted:function(){return this.testament&&"2"===this.testament.status}}},dt=n("6b0d"),mt=n.n(dt);const pt=mt()(ut,[["render",$e]]);var bt=pt,ft=(n("d81d"),n("b64b"),n("100f")),yt=n.n(ft),ht=n("99e5"),Ot=n.n(ht),jt={30:"https://public-node.rsk.co"},gt=Object.keys(jt).map(Number),vt=new yt.a({rpcUrls:jt,supportedChains:gt}),wt={address:null,testamentContract:null,encryptionKey:null,connect:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.connect();case 2:return n=t.sent,a=new Ot.a(n.provider),t.next=6,a.eth.getAccounts();case 6:return i=t.sent[0],e.testamentServiceContract=new a.eth.Contract(He,Qe),t.next=10,a.eth.personal.sign("Log-in to CryptoTestament",i);case 10:return e.encryptionKey=t.sent,t.next=13,e.testamentServiceContract.methods.testamentDetailsOf(i).call();case 13:s=t.sent,console.log(s),lt.instance.walletAddress=i,s.exists?ot(lt.instance,s,e.encryptionKey):lt.instance.testament=null;case 17:case"end":return t.stop()}}),t)})))()}};function Tt(){return xt.apply(this,arguments)}function xt(){return xt=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wt.connect();case 2:t=0,0==t&&Object(i["b"])(bt).mount("#app");case 4:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}Tt()},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.6c9f5c63.js.map